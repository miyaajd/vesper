<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <!-- Link Swiper's CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <!-- Swiper JS -->
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        color: #222;
        list-style: none;
        text-decoration: none;
      }
      .inner {
        max-width: 1920px !important;
        margin: auto !important;
        background-color: #fafaf6;
      }
      .h2 {
        font-size: 42px;
        color: #333;
      }
      .p {
        font-size: 18px;
        color: #333;
      }
      /* hands */
      .hands {
        width: 100%;
        padding: 100px 30px 120px 180px;
      }
      .hands-top {
        width: 50%;
      }
      .hands-txt-box {
        width: 100%;
      }
      .hands-txt-box > p {
        margin: 42px 0 25px 0;
      }
      .view-more-btn {
        padding: 12px 24px;
        border: none;
        background-color: #e9e9ec;
        border-radius: 8px;
        font-weight: 500;
        color: #555;
        font-size: 18px;
      }
      .white-btn {
        background-color: #fff;
      }
      /*  */
      .hands-bottom {
        width: 70%;
        margin-left: auto;
        margin-top: 80px;
      }
      .handsSwiper {
        width: 100%;
      }
      .handsSwiper > .swiper-wrapper > .swiper-slide > img {
        width: 100%;
        cursor: pointer;
        aspect-ratio: 3 / 4;
        object-fit: cover;
        display: block;
      }
      .swiper-pagination-bullet-active {
        background: #333 !important;
      }
      /* jiyeon */
      .jiyeon {
        width: 100%;
        display: flex;
      }
      .jiyeon-left {
        width: 50%;
      }
      .jiyeon-left > img {
        width: 100%;
        display: block;
      }
      .jiyeon-right {
        width: 50%;
        background-color: #e9e9ec;
        display: flex;
        flex-direction: column;
        justify-content: center;
        text-align: center;
        padding: 0 145px;
      }
      .jiyeon-txt-box > p {
        margin: 80px 0;
      }
      /* interview */
      .interview {
        width: 100%;
        padding: 50px 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 80px;
        background: linear-gradient(
          to bottom,
          #fafaf6 0%,
          #dcdce8 50%,
          #fafaf6 100%
        );
      }
      .interview-txt {
        text-align: right;
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      .interview-txt > h2 {
        color: #383848;
        font-weight: bold;
      }
      .interview-txt > span {
        font-size: 20px;
        font-weight: 500;
        color: #777;
      }
      .circle {
        width: 300px;
        height: 300px;
        background-color: #fff;
        border-radius: 200px;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        overflow: hidden;
      }
      .circle > img {
        width: 100%;
        cursor: pointer;
      }
      /* video */
      .interview-bg {
        width: 100%;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        position: fixed;
        top: 0;
        left: 0;
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s ease;
        z-index: 999999999999999999;
      }
      .interview-bg.active {
        opacity: 1;
        pointer-events: auto;
      }
      .video {
        position: relative;
        width: 0;
        margin: auto !important;
        border-radius: 50px;
        overflow: hidden;
        transform: scale(0);
        transition: all 0.5s ease;
        opacity: 0;
      }
      .interview-bg.active .video {
        width: auto;
        height: 80%;
        transform: scale(1);
        opacity: 1;
      }
      .video > video {
        height: 100%;
        display: block;
      }
      .video-close {
        position: absolute;
        top: 20px;
        right: 30px;
      }
      .video-close > .p {
        font-weight: 500;
        color: #fff;
        padding: 7px 12px 5px 12px;
        background-color: #333;
        border-radius: 20px;
        cursor: pointer;
      }
      /* ===== VESPER: Product slider ===== */
      .v-product {
        padding: 30px;
        border-top: 0.5px solid #ddd;
        border-bottom: 0.5px solid #ddd;
        width: 100%;
        display: flex;
        position: relative;
      }

      /* 아임웹 충돌 방지를 위해 !important 추가 */
      .v-product__desc {
        width: 55%;
        display: none !important;
        flex-direction: column;
        padding: 100px 0;
        align-items: center;
        justify-content: space-between;
      }

      /* 아임웹 충돌 방지를 위해 !important 추가 */
      .v-product__desc.is-active {
        display: flex !important;
      }

      .v-product__title p {
        font-family: "Times New Roman", serif;
        font-size: 36px;
        color: #333;
      }

      .v-product__dscr {
        display: flex;
        flex-direction: column;
        align-items: center;
        line-height: 2;
        color: #333;
      }

      .v-product__dscr h5 {
        font-size: 18px;
        font-weight: 500;
        color: #333;
      }

      .v-product__dscr span {
        color: #333;
      }

      .v-product__dscr .strike {
        color: #aaa;
        text-decoration: line-through;
      }

      .v-product__dscr .discount {
        color: #fff;
        background-color: #333;
        padding: 3px 4px 2px;
        font-size: 14px;
      }

      .v-product__btn {
        text-decoration: none;
        color: #333;
      }

      .v-product__btn button {
        all: unset;
        cursor: pointer;
        border: 1px solid #333;
        padding: 10px 32px;
        font-size: 14px;
        line-height: 1;
        display: inline-block;
      }

      .v-product__img {
        width: 45%;
        background-color: #e9e9ec;
        padding: 100px 0;
      }

      /* 아임웹 충돌 방지를 위해 !important 추가 */
      .v-product__img img {
        width: 45%;
        display: none !important;
        margin: 0 auto;
      }

      /* 아임웹 충돌 방지를 위해 !important 추가 */
      .v-product__img img.is-active {
        display: block !important;
      }

      .v-product__pager {
        position: absolute;
        right: 48% !important;
        top: 50%;
        transform: translateX(-50%);
        font-size: 32px;
        color: #1f1f1f;
        font-weight: 300;
        cursor: pointer;
        user-select: none;
      }

      /* 반응형(옵션) : 좁은 화면에서 세로 스택 */
      @media (max-width: 960px) {
        .v-product {
          flex-direction: column;
          gap: 32px;
        }

        .v-product__desc,
        .v-product__img {
          width: 100%;
          padding: 60px 0;
        }

        .v-product__img img {
          width: 60% !important;
        }

        .v-product__pager {
          right: 10px !important;
          top: 250px;
          font-size: 28px;
        }
      }

      /* 반응형 */
      @media (max-width: 768px) {
        .v-product {
          flex-direction: column;
          gap: 24px;
        }

        .v-product__desc,
        .v-product__img {
          width: 100%;
          padding: 40px 0;
        }

        .v-product__title p {
          font-size: 24px;
        }

        .v-product__dscr {
          line-height: 1.7;
          gap: 10px;
        }

        .v-product__dscr h5 {
          font-size: 16px;
          text-align: center;
        }

        .v-product__dscr span {
          font-size: 14px;
        }

        .v-product__dscr p {
          font-size: 16px;
        }

        .v-product__dscr .discount {
          font-size: 12px;
          padding: 2px 4px;
        }

        .v-product__btn button {
          padding: 8px 20px;
          font-size: 13px;
        }

        .v-product__img {
          padding-top: 20px;
        }

        .v-product__img img {
          width: 65% !important;
        }

        .v-product__pager {
          right: 10px !important;
          top: 195px;
          font-size: 28px;
        }
      }

      /* 초소형(아이폰 SE 등) 보정 */
      @media (max-width: 360px) {
        .v-product__title p {
          font-size: 22px;
        }

        .v-product__dscr h5 {
          font-size: 15px;
        }

        .v-product__dscr p {
          font-size: 15px;
        }

        .v-product__img img {
          width: 70% !important;
        }

        .v-product__btn button {
          font-size: 12px;
          padding: 8px 18px;
        }
      }
    </style>
  </head>
  <body>
    <div class="inner">
      <video
        id="mainVid"
        autoplay
        loop
        muted
        playsinline
        style="
          width: 100%;
          max-width: 1920px;
          height: calc(100vh - 64px);
          object-fit: cover;
          margin: auto !important;
          padding: 0;
          display: flex;
          align-items: center;
        "
      >
        <source
          src="https://cdn.jsdelivr.net/gh/miyaajd/vesper/video/noise-normal.mp4"
          type="video/mp4"
        />
      </video>
      <div class="hands">
        <div class="hands-top">
          <div class="hands-txt-box">
            <h2 class="h2">"Vesper Hands"</h2>
            <p class="p">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam
              amet voluptatem, esse itaque asperiores quibusdam. Quos odio
              obcaecati cum iste saepe omnis facere, dolores animi modi commodi.
              Minima, perspiciatis! Adipisci explicabo aliquam doloremque esse,
              veniam aliquid impedit nostrum minima rem temporibus atque iusto
              eligendi soluta labore expedita maxime facilis provident!
            </p>
            <button class="view-more-btn">VIEW MORE</button>
          </div>
        </div>
        <div class="hands-bottom">
          <!-- Swiper -->
          <div class="swiper handsSwiper">
            <div class="swiper-wrapper">
              <div class="swiper-slide">
                <img
                  src="https://github.com/miyaajd/vesper/blob/main/images/hands-swiper/h-slide1.jpg?raw=true"
                  alt="slide1"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="https://github.com/miyaajd/vesper/blob/main/images/hands-swiper/h-slide2.jpg?raw=true"
                  alt="slide2"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="https://github.com/miyaajd/vesper/blob/main/images/hands-swiper/h-slide3.jpg?raw=true"
                  alt="slide3"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="https://github.com/miyaajd/vesper/blob/main/images/hands-swiper/h-slide4.jpg?raw=true"
                  alt="slide4"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="https://github.com/miyaajd/vesper/blob/main/images/hands-swiper/h-slide5.jpg?raw=true"
                  alt="slide5"
                />
              </div>
              <div class="swiper-slide">
                <img
                  src="https://github.com/miyaajd/vesper/blob/main/images/hands-swiper/h-slide6.jpg?raw=true"
                  alt="slide6"
                />
              </div>
            </div>
            <div class="swiper-pagination"></div>
          </div>
        </div>
      </div>
      <div class="jiyeon">
        <div class="jiyeon-left">
          <img
            src="https://github.com/miyaajd/vesper/blob/main/images/hands-swiper/jiyeon-left.png?raw=true"
            alt="jiyeon"
          />
        </div>
        <div class="jiyeon-right">
          <div class="jiyeon-txt-box">
            <h2 class="h2">Jiyeon X Vesper</h2>
            <p class="p">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Quisquam
              amet voluptatem, esse itaque asperiores quibusdam. Quos odio
              obcaecati cum iste saepe omnis facere, dolores animi modi commodi.
              Minima, perspiciatis! Adipisci explicabo aliquam doloremque esse,
              veniam aliquid impedit nostrum minima rem temporibus atque iusto
              eligendi soluta labore expedita maxime facilis provident!
            </p>
            <button class="view-more-btn white-btn">VIEW MORE</button>
          </div>
        </div>
      </div>
      <div class="interview">
        <div class="interview-txt">
          <h2 class="h2">지연의 인터뷰 영상이 궁금하다면?</h2>
          <span>클릭해서 영상보기 ▶</span>
        </div>
        <div class="interview-video">
          <div class="circle">
            <img
              src="https://github.com/miyaajd/vesper/blob/main/images/hands-swiper/interview-pre.jpg?raw=true"
              alt="interview-pre"
            />
          </div>
        </div>
      </div>
      <div class="interview-bg">
        <div class="video">
          <video
            id="interview"
            src="https://cdn.jsdelivr.net/gh/miyaajd/vesper/video/interview.mp4"
            type="video/mp4"
            loop
            muted
            playsinline
            controls
          ></video>
          <div class="video-close"><p class="p">Close</p></div>
        </div>
      </div>
      <div class="v-product">
        <div class="v-product__desc">
          <div class="v-product__title">
            <p>Best Product</p>
          </div>
          <div class="v-product__dscr">
            <h5>Vesper Fiore Shell Hair Perfume Oil</h5>
            <span style="margin-bottom: 48px"
              >베스페르 피오레 쉘 퍼퓸 헤어 오일</span
            >
            <span class="strike">42,000원</span>
            <p>
              26,000원
              <span class="discount">38%</span>
            </p>
          </div>
          <a
            class="v-product__btn"
            href="https://www.vesper.kr/shop"
            target="_top"
            rel="noopener"
          >
            <button>SHOP NOW</button>
          </a>
        </div>

        <div class="v-product__desc">
          <div class="v-product__title">
            <p>Best Product</p>
          </div>
          <div class="v-product__dscr">
            <h5>Vesper Rosa Selvatica Hair Perfume Oil</h5>
            <span style="margin-bottom: 48px"
              >베스페르 로사 셀바티카 퍼퓸 헤어 오일</span
            >
            <span class="strike">42,000원</span>
            <p>
              26,000원
              <span class="discount">38%</span>
            </p>
          </div>
          <a
            class="v-product__btn"
            href="https://www.vesper.kr/shop"
            target="_top"
            rel="noopener"
          >
            <button>SHOP NOW</button>
          </a>
        </div>

        <div class="v-product__desc">
          <div class="v-product__title">
            <p>Best Product</p>
          </div>
          <div class="v-product__dscr">
            <h5>Vesper White Bianco Hair Perfume Oil</h5>
            <span style="margin-bottom: 48px"
              >베스페르 화이트 비앙코 퍼퓸 헤어 오일</span
            >
            <span class="strike">42,000원</span>
            <p>
              26,000원
              <span class="discount">38%</span>
            </p>
          </div>
          <a
            class="v-product__btn"
            href="https://www.vesper.kr/shop"
            target="_top"
            rel="noopener"
          >
            <button>SHOP NOW</button>
          </a>
        </div>

        <div class="v-product__img">
          <img
            src="https://github.com/miyaajd/vesper/blob/main/images/fi.png?raw=true"
            alt="fiore"
          />
          <img
            src="https://github.com/miyaajd/vesper/blob/main/images/ro.png?raw=true"
            alt="rosa"
          />
          <img
            src="https://github.com/miyaajd/vesper/blob/main/images/wh.png?raw=true"
            alt="white bianco"
          />
        </div>

        <div class="v-product__pager" id="vProductPager">&rsaquo;</div>
      </div>
    </div>
    <!-- js -->
    <script>
      var swiper = new Swiper(".handsSwiper", {
        slidesPerView: 4,
        spaceBetween: 30,
        pagination: {
          el: ".swiper-pagination",
          clickable: true,
        },
        autoplay: {
          delay: 2500,
          disableOnInteraction: false,
        },
        loop: true,
      });
      // interview-click
      const interviewPre = document.querySelector(".circle > img");
      const interWrap = document.querySelector(".interview-bg");
      const video = document.getElementById("interview");
      const body = document.body;
      interviewPre.addEventListener("click", () => {
        interWrap.classList.add("active");
        video.play();
        body.style.overflow = "hidden";
      });
      // interview-close
      const interviewClose = document.querySelector(".video-close > .p");
      interviewClose.addEventListener("click", (e) => {
        e.stopPropagation();
        interWrap.classList.remove("active");
        body.style.overflow = "";
        video.pause();
      });
      interWrap.addEventListener("click", (e) => {
        if (e.target === interWrap) {
          interWrap.classList.remove("active");
          body.style.overflow = "";
          video.pause();
        }
      });
      // best-product
      document.addEventListener("DOMContentLoaded", function () {
        const root = document.querySelector(".v-product");
        if (!root) return;

        const pages = root.querySelectorAll(".v-product__desc");
        const imgs = root.querySelectorAll(".v-product__img img");
        const btn = document.getElementById("vProductPager");

        const n = Math.min(pages.length, imgs.length);
        let i = 0; // 현재 인덱스
        let timer = null; // 자동재생 핸들
        const GAP = 3000; // 자동 전환 간격(ms)

        // 슬라이드 전환 함수
        function showSlide(nextIndex) {
          // 현재 슬라이드에서 'is-active' 클래스 제거
          if (pages[i]) pages[i].classList.remove("is-active");
          if (imgs[i]) imgs[i].classList.remove("is-active");

          // 다음 인덱스 계산 및 'is-active' 클래스 추가
          i = (nextIndex + n) % n;
          if (pages[i]) pages[i].classList.add("is-active");
          if (imgs[i]) imgs[i].classList.add("is-active");
        }

        // 다음 슬라이드로 이동
        function next() {
          showSlide(i + 1);
        }

        // 이전 슬라이드로 이동
        function prev() {
          showSlide(i - 1);
        }

        // 자동재생 시작
        function startAuto() {
          stopAuto();
          timer = setInterval(next, GAP);
        }

        // 자동재생 중지
        function stopAuto() {
          if (timer) {
            clearInterval(timer);
            timer = null;
          }
        }

        // 초기 상태 설정
        showSlide(0);
        startAuto();

        // 사용자 상호작용 이벤트
        if (btn) {
          btn.addEventListener("click", () => {
            stopAuto();
            next();
            startAuto();
          });
          btn.addEventListener("contextmenu", (e) => {
            e.preventDefault();
            stopAuto();
            prev();
            startAuto();
          });
        }

        document.addEventListener("keydown", (e) => {
          if (e.key === "ArrowRight") {
            stopAuto();
            next();
            startAuto();
          } else if (e.key === "ArrowLeft") {
            stopAuto();
            prev();
            startAuto();
          }
        });

        // 터치 스와이프
        let startX = null;
        root.addEventListener(
          "touchstart",
          (e) => {
            startX = e.touches[0].clientX;
            stopAuto();
          },
          {
            passive: true,
          }
        );
        root.addEventListener(
          "touchend",
          (e) => {
            if (startX == null) return;
            const dx = e.changedTouches[0].clientX - startX;
            if (Math.abs(dx) > 40) (dx < 0 ? next : prev)();
            startX = null;
            startAuto();
          },
          {
            passive: true,
          }
        );
      });
    </script>
  </body>
</html>
